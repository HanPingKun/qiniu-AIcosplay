server:
  port: 8080

spring:
  application:
    name: echo-verse-app
  # 数据库配置
  datasource:
    url: jdbc:mysql://localhost:3306/echo_verse_db?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
    username: root
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  # Redis 配置
  data:
    redis:
      host: localhost
      port: 6379
      password: ${REDIS_PASSWORD}
  sql:
    init:
      mode: always # 每次启动都检查并执行 data.sql

# MyBatis-Plus 配置
mybatis-plus:
  mapper-locations: classpath*:/mapper/**/*.xml
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      id-type: auto

# LangChain4j & 大模型配置
langchain4j:
  open-ai:
    chat-model:
      base-url: https://api.siliconflow.cn/v1/ 
      api-key: ${SILICONFLOW_CHAT_API_KEY}
      model-name: Qwen/QwQ-32B
      temperature: 0.0
      log-requests: true
      log-responses: true
    streaming-chat-model:
      base-url: https://api.siliconflow.cn/v1/
      api-key: ${SILICONFLOW_STREAMING_API_KEY}
      model-name: Pro/deepseek-ai/DeepSeek-R1 
      temperature: 0.0
      log-requests: true
      log-responses: true

# MiniMax TTS 配置
minimax:
  api-key: ${MINIMAX_API_KEY}
  group-id: 1970301849785344566
  tts-url: https://api.minimaxi.com/v1/t2a_v2

# JWT 安全配置
app:
  jwt:
    secret: ${APP_JWT_SECRET}
    expiration-ms: 604800000 # 7天免登录 (7 * 24 * 60 * 60 * 1000)

# SpringDoc API 文档配置
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
  default-consumes-media-type: application/json
  default-produces-media-type: application/json
  swagger-ui.operations-sorter: method

# 日志配置
logging:
  level:
    root: INFO
    com.echo.verse: DEBUG
    dev.langchain4j: INFO
